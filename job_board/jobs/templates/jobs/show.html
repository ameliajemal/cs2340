{% extends 'base.html' %}
{% block content %}
<div class="p-3" style="background-color: #f8f9fa;">
  <div class="container my-4">
    <div class="row">
      <div class="col-md-8 mx-auto">
        <div class="card shadow-sm">
          <div class="card-header bg-light">
            <h2 class="card-title mb-0">{{ template_data.job.title }}</h2>
            <h5 class="card-subtitle mt-1 text-muted">{{ template_data.job.company }} â€” {{ template_data.job.location }}</h5>
          </div>
          <div class="card-body">
            <div class="mb-3">
              <span class="badge bg-primary me-2">{{ template_data.job.job_type }}</span>
              {% if template_data.job.is_remote %}
                <span class="badge bg-success me-2">Remote</span>
              {% endif %}
               {% if template_data.job.provides_sponsorship %}
                <span class="badge bg-info text-dark me-2">Visa Sponsorship</span>
              {% endif %}
            </div>

            {% if template_data.job.salary_min and template_data.job.salary_max %}
            <p><strong>Salary Range:</strong> ${{ template_data.job.salary_min|floatformat }} - ${{ template_data.job.salary_max|floatformat }} per year</p>
            {% endif %}
            
            <hr>
            
            <h6>Full Job Description:</h6>
            <p style="white-space: pre-wrap;">{{ template_data.job.description }}</p>

            {% if template_data.job.skills.all %}
            <hr>
            <h6>Required Skills:</h6>
            <p>
              {% for skill in template_data.job.skills.all %}
                <span class="badge bg-secondary">{{ skill.name }}</span>
              {% endfor %}
            </p>
            {% endif %}
            
            <hr>

            <div class="d-grid gap-2">
              <a href="{% url 'applications.apply' job_id=template_data.job.id %}" class="btn btn-primary btn-lg">Apply Now</a>
            </div>
          </div>
          <div class="card-footer text-muted">
            Posted: {{ template_data.job.posted_at|date:"F j, Y" }}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock content %}