{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
    <h2>{{ profile.user.username }}'s Profile</h2>
    <p><strong>Headline:</strong> {{ profile.headline }}</p>
    <p><strong>Bio:</strong> {{ profile.bio }}</p>
    <p><strong>Location:</strong> {{ profile.location }}</p>
    <p><strong>Links:</strong>
        {% if profile.linkedin %}<a href="{{ profile.linkedin }}" target="_blank">LinkedIn</a>{% endif %}
        {% if profile.github %}{% if profile.linkedin %} | {% endif %}<a href="{{ profile.github }}" target="_blank">GitHub</a>{% endif %}
        {% if profile.portfolio %}{% if profile.linkedin or profile.github %} | {% endif %}<a href="{{ profile.portfolio }}" target="_blank">Portfolio</a>{% endif %}
        {% if not profile.linkedin and not profile.github and not profile.portfolio %}No links provided.{% endif %}
    </p>
    <p><strong>Projects:</strong>
        {% if profile.projects %}
            <div class="mt-1">{{ profile.projects|linebreaksbr }}</div>
        {% else %}
            <span class="text-muted">No projects added.</span>
        {% endif %}
    </p>
    <p><strong>Skills:</strong>
        {% with profile.profileskill_set.all as ps %}
            {% if ps %}
                {% for s in ps %}
                    <span class="badge bg-primary">{{ s.skill.name }}</span>
                {% endfor %}
            {% else %}
                No skills added.
            {% endif %}
        {% endwith %}
    </p>

    <h4>Education</h4>
    <ul>
        {% for edu in educations %}
            <li>{{ edu.degree }} in {{ edu.field_of_study }} at {{ edu.institution }} ({{ edu.start_date }} - {{ edu.end_date|default:"Present" }})</li>
        {% empty %}
            <li>No education added.</li>
        {% endfor %}
    </ul>

    <h4>Work Experience</h4>
    <ul>
        {% for work in experiences %}
            <li>{{ work.title }} at {{ work.company }} ({{ work.start_date }} - {{ work.end_date|default:"Present" }})</li>
        {% empty %}
            <li>No work experience added.</li>
        {% endfor %}
    </ul>

    <a href="{% url 'jobs.edit_profile' %}" class="btn btn-primary">Edit Profile</a>
</div>
{% endblock content %}
